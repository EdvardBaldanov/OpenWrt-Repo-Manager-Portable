# üì¶ OpenWrt Repo Manager (Portable)

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–ª—è OpenWrt —Å –≤–µ–±-–ø–∞–Ω–µ–ª—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ `.ipk` —Å GitHub Releases –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏—Ö –≤ –≤–∏–¥–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ OPKG —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **Web Dashboard**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Python/Flask) –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∏ –∑–∞–ø—É—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
*   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –°–∫–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–ª–∏–∑—ã —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Å GitHub.
*   **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `x86_64` –∏–ª–∏ `all`) –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º.
*   **–ü–æ–¥–ø–∏—Å—å –ø–∞–∫–µ—Ç–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏ –ø–æ–¥–ø–∏—Å—å –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é `usign`.
*   **–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –í–∫–ª—é—á–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`opkg-utils`, `usign`) –≤ –ø–∞–ø–∫–µ `bin/`.
*   **–ì–æ—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–æ–≤ OpenWrt.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–°–µ—Ä–≤–µ—Ä)

–ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ **Ubuntu/Debian** (—Ç—Ä–µ–±—É–µ—Ç—Å—è `apt`).

1.  **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/EdvardBaldanov/OpenWrt-Repo-Manager-Portable.git
    cd OpenWrt-Repo-Manager-Portable
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
    ```bash
    chmod +x setup_repo.sh
    ./setup_repo.sh
    ```
    
    **–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `nginx`, `python3-flask`, `jq`, `curl`.
    *   –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ –ø–æ–¥–ø–∏—Å–∏ (`secret.key` –∏ `public.key`), –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç.
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç Nginx –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è API.
    *   –°–æ–∑–¥–∞—Å—Ç Systemd-—Å–µ—Ä–≤–∏—Å `repo-dashboard` –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
    *   –î–æ–±–∞–≤–∏—Ç –∑–∞–¥–∞–Ω–∏–µ –≤ Cron –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤.

3.  **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
    –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É: `http://<IP-–í–ê–®–ï–ì–û-–°–ï–†–í–ï–†–ê>/`

## üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä—è–º–æ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.
–í –æ–±—â–µ–º –≤–∏–¥–µ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

1.  –î–æ–±–∞–≤–∏—Ç—å URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ `/etc/opkg/customfeeds.conf`.
2.  –°–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á `opkg-key add`.
3.  –í—ã–ø–æ–ª–Ω–∏—Ç—å `opkg update`.

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∫–ª–∞–¥–∫–∞ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ") –∏–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ —Ñ–∞–π–ª–µ `repo_sources.json`.

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```json
[
  {
    "name": "amneziawg",
    "api_url": "https://api.github.com/repos/Slava-Shchipunov/awg-openwrt/releases/latest",
    "filter_arch": "x86_64",
    "exclude_asset_keywords": ["entware", "mips"]
  }
]
```

*   `filter_arch`: –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (`x86_64`, `aarch64`, `all` –∏ —Ç.–¥.).
*   `exclude_asset_keywords`: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤. –ï—Å–ª–∏ –∏–º—è —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª—é–±–æ–µ –∏–∑ –Ω–∏—Ö, —Ñ–∞–π–ª –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω.

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∫–æ–Ω—Ñ–∏–≥–æ–≤ Nginx –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
./uninstall_system.sh
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `dashboard.py` ‚Äî Backend API –Ω–∞ Flask.
*   `index.html` ‚Äî Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
*   `repo_sources.json` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
*   `repo_sync.sh` ‚Äî –°–∫—Ä–∏–ø—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤.
*   `repo_publish.sh` ‚Äî –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –ø–æ–¥–ø–∏—Å–∏.
*   `setup_repo.sh` ‚Äî –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
*   `uninstall_system.sh` ‚Äî –°–∫—Ä–∏–ø—Ç —É–¥–∞–ª–µ–Ω–∏—è.
*   `bin/` ‚Äî –ù–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç (`usign`, `opkg-make-index` –∏ –¥—Ä.).
